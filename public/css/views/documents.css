/* Document List View */
.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  background: white;
  padding: 1.5vh 2vw;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  margin-bottom: 2vh;
}

.dashboard-header h2 {
  color: var(--color-primary);
  margin: 0;
}

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* User Info Container */
.user-info-container {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  background: var(--color-bg-gray);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border-light);
}

.user-details {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  line-height: 1.3;
}

.user-name {
  font-weight: 600;
  color: var(--color-text);
  font-size: 0.95rem;
}

.user-email {
  font-size: 0.8rem;
  color: var(--color-text-light);
}

.documents-section {
  background: transparent;
  padding: var(--spacing-md);
  border-radius: 0;
  box-shadow: none;
  overflow: visible;
  position: relative;
  box-sizing: border-box;
  width: 100%;
  min-width: 0; /* Allow flex item to shrink below content size */
}

/* Custom scrollbar */
.documents-section::-webkit-scrollbar {
  height: 0.5vh;
}

.documents-section::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 0.2vw;
}

.documents-section::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 0.2vw;
}

.documents-section::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary);
}

.loading {
  text-align: center;
  padding: var(--spacing-xl);
  color: var(--color-text-light);
  font-style: italic;
}

.error-message {
  background: #f8d7da;
  color: #721c24;
  padding: var(--spacing-md);
  border-radius: 5px;
  margin-bottom: var(--spacing-md);
}

.documents-grid {
  display: block;
  width: 100%;
  min-width: 0;
  overflow-x: visible;
  margin: 0;
  padding: 0;
}

.document-card {
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: var(--spacing-lg);
  background: var(--color-bg-card);
  cursor: pointer;
  transition: all var(--transition-base);
}

.document-card:hover {
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary);
}

.document-card h3 {
  color: var(--color-primary);
  margin-bottom: var(--spacing-sm);
}

.document-card .document-meta {
  color: var(--color-text-light);
  font-size: 0.9rem;
  margin-top: var(--spacing-md);
}

.document-card .document-creator {
  font-weight: 500;
  color: var(--color-text);
}

.document-card .document-dates {
  margin-top: var(--spacing-sm);
}

@media (max-width: 48rem) {
  .dashboard-header {
    flex-direction: column;
    gap: 1.5vh;
    text-align: center;
    padding: 2vh 3vw;
  }

  .header-actions {
    width: 100%;
    justify-content: center;
  }

  .user-info-container {
    width: 100%;
    justify-content: center;
  }

  .user-details {
    align-items: center;
  }

  .documents-section {
    padding: 1.5vh 2vw 2vh 2vw;
  }
}

/* Dashboard Layout */
.dashboard-layout {
  display: flex;
  flex-direction: column;
  gap: 2vh;
}

/* Section Styling */
.section-recent,
.section-workspace {
  background: white;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  width: 100%;
  min-width: 0; /* Allow flex item to shrink below content size */
}

.section-recent {
  flex-shrink: 0;
  transition: all var(--transition-base);
  width: 100%;
}

.section-recent .section-content {
  width: 100%;
  min-width: 0;
}

.section-workspace {
  flex: 1;
  min-height: 400px;
}


/* Scroll Hint */
.scroll-hint-text {
  display: none;
  text-align: right;
  font-size: 0.85rem;
  color: var(--color-text-muted);
  font-style: italic;
  padding: 0.5rem 1rem 0;
  margin-bottom: -0.5rem;
  position: relative;
  z-index: 5;
}

/* Sticky Header & Scroll Fixes
   IMPORTANT:
   Sticky table headers can cause browser table layout edge cases where the last column
   stops consuming remaining width, leaving unused space to the right and forcing truncation.
   The main view table is short and does not need sticky headers, so we disable stickiness here
   to keep column sizing correct and allow Location to fully expand and wrap.
*/
.doc-details-table th {
  position: static;
  top: auto;
  z-index: auto;
  background: var(--color-bg-gray);
  box-shadow: none;
}

/* Workspace Container adaptation */
.workspace-container {
  padding: var(--spacing-md);
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.breadcrumbs {
  padding-bottom: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  border-bottom: 1px solid var(--color-border-light);
  font-size: 0.95rem;
}

.breadcrumb-item {
  cursor: pointer;
  color: var(--color-primary);
}

.breadcrumb-item:hover {
  text-decoration: underline;
}

.breadcrumb-item.active {
  color: var(--color-text-light);
  font-weight: 500;
  cursor: default;
  text-decoration: none;
}

.breadcrumb-separator {
  color: var(--color-text-muted);
  font-size: 0.9em;
}

.workspace-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: var(--spacing-md);
}

.workspace-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: var(--spacing-sm);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.workspace-item:hover {
  background-color: var(--color-bg-hover);
}

.item-icon {
  font-size: 2rem;
  margin-bottom: var(--spacing-xs);
}

.item-name {
  font-size: 0.85rem;
  /* Allow breaks only at zero-width spaces inserted before separators */
  word-break: normal;
  overflow-wrap: anywhere;
  hyphens: none;
  /* Multi-line clamping */
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Workspace name in header */
.workspace-name {
  font-weight: normal;
  font-size: 0.9rem;
  color: var(--color-text-muted);
  margin-left: var(--spacing-sm);
  font-style: italic;
}

/* Section header with reload buttons */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: var(--color-bg-gray);
  border-bottom: 1px solid var(--color-border-light);
  user-select: none;
}

.section-header h3 {
  margin: 0;
  font-size: 1.1rem;
  color: var(--color-primary);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* Outline button style for reload buttons */
.btn-outline {
  background: transparent;
  border: 1px solid var(--color-primary);
  color: var(--color-primary);
  font-size: 0.85rem;
  padding: 0.4rem 0.8rem;
  transition: all var(--transition-fast);
}

.btn-outline:hover {
  background: var(--color-primary);
  color: white;
}

/* ================================
   Export Selection
   ================================ */

/* Export selection checkbox */
.export-select-checkbox {
  position: absolute;
  top: 4px;
  left: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  z-index: 5;
  cursor: pointer;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.workspace-item {
  position: relative;
}

.workspace-item:hover .export-select-checkbox,
.workspace-item.export-selected .export-select-checkbox {
  opacity: 1;
}

.export-select-checkbox input {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: var(--color-primary);
}

/* Selected state */
.workspace-item.export-selected {
  background-color: #e8f4fd;
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-sm);
}

/* Export button with selection */
#getAllBtn.has-selection {
  background-color: var(--color-primary);
  color: white;
}
